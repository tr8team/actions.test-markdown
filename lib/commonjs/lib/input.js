import { array, discriminatedUnion, literal, number, object, optional, string, union, } from "zod";
// Policies
const policyResult = union([literal("pass"), literal("warn"), literal("fail")]);
const policyData = object({
    pass: array(string()),
    warn: array(string()),
    fail: array(string()),
});
const base = object({
    result: policyResult,
    resultDetails: policyData,
});
// Meta data
const testResultMetadata = base
    .extend({
    type: literal("test-result"),
    pass: number().min(0),
    fail: number().min(0),
    skip: number().min(0),
})
    .strict();
const documentationMetadata = base
    .extend({
    type: literal("documentation"),
})
    .strict();
const codeQualityMetadata = base
    .extend({
    type: literal("code-quality"),
    qualityRating: string(),
})
    .strict();
const testCoverageMetadata = base
    .extend({
    type: literal("test-coverage"),
    delta: optional(object({
        line: number().min(-100).max(100),
        statement: number().min(-100).max(100),
        function: number().min(-100).max(100),
        branch: number().min(-100).max(100),
    })
        .strict()
        .nullable()),
    line: number().min(0).max(100),
    statement: number().min(0).max(100),
    function: number().min(0).max(100),
    branch: number().min(0).max(100),
})
    .strict();
const metadata = discriminatedUnion("type", [
    codeQualityMetadata,
    documentationMetadata,
    testCoverageMetadata,
    testResultMetadata,
]);
// input object
const dataElement = object({
    name: string(),
    url: string().url(),
    data: metadata,
}).strict();
const dataElementArray = array(dataElement);
const historyEntry = object({
    sha: string(),
    url: string(),
    action: string(),
    items: dataElementArray,
}).strict();
const history = array(historyEntry);
export { metadata, dataElement, dataElementArray, historyEntry, history };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL2lucHV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxLQUFLLEVBQ0wsa0JBQWtCLEVBQ2xCLE9BQU8sRUFDUCxNQUFNLEVBQ04sTUFBTSxFQUNOLFFBQVEsRUFDUixNQUFNLEVBQ04sS0FBSyxHQUVOLE1BQU0sS0FBSyxDQUFDO0FBRWIsV0FBVztBQUNYLE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUVoRixNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7SUFDeEIsSUFBSSxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNyQixJQUFJLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3JCLElBQUksRUFBRSxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7Q0FDdEIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDO0lBQ2xCLE1BQU0sRUFBRSxZQUFZO0lBQ3BCLGFBQWEsRUFBRSxVQUFVO0NBQzFCLENBQUMsQ0FBQztBQUVILFlBQVk7QUFFWixNQUFNLGtCQUFrQixHQUFHLElBQUk7S0FDNUIsTUFBTSxDQUFDO0lBQ04sSUFBSSxFQUFFLE9BQU8sQ0FBQyxhQUFhLENBQUM7SUFDNUIsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckIsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckIsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdEIsQ0FBQztLQUNELE1BQU0sRUFBRSxDQUFDO0FBRVosTUFBTSxxQkFBcUIsR0FBRyxJQUFJO0tBQy9CLE1BQU0sQ0FBQztJQUNOLElBQUksRUFBRSxPQUFPLENBQUMsZUFBZSxDQUFDO0NBQy9CLENBQUM7S0FDRCxNQUFNLEVBQUUsQ0FBQztBQUVaLE1BQU0sbUJBQW1CLEdBQUcsSUFBSTtLQUM3QixNQUFNLENBQUM7SUFDTixJQUFJLEVBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBQztJQUM3QixhQUFhLEVBQUUsTUFBTSxFQUFFO0NBQ3hCLENBQUM7S0FDRCxNQUFNLEVBQUUsQ0FBQztBQUNaLE1BQU0sb0JBQW9CLEdBQUcsSUFBSTtLQUM5QixNQUFNLENBQUM7SUFDTixJQUFJLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQztJQUM5QixLQUFLLEVBQUUsUUFBUSxDQUNiLE1BQU0sQ0FBQztRQUNMLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1FBQ2pDLFNBQVMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1FBQ3RDLFFBQVEsRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1FBQ3JDLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0tBQ3BDLENBQUM7U0FDQyxNQUFNLEVBQUU7U0FDUixRQUFRLEVBQUUsQ0FDZDtJQUNELElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUM5QixTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDbkMsUUFBUSxFQUFFLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ2xDLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztDQUNqQyxDQUFDO0tBQ0QsTUFBTSxFQUFFLENBQUM7QUFFWixNQUFNLFFBQVEsR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUU7SUFDMUMsbUJBQW1CO0lBQ25CLHFCQUFxQjtJQUNyQixvQkFBb0I7SUFDcEIsa0JBQWtCO0NBQ25CLENBQUMsQ0FBQztBQUVILGVBQWU7QUFFZixNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUM7SUFDekIsSUFBSSxFQUFFLE1BQU0sRUFBRTtJQUNkLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUU7SUFDbkIsSUFBSSxFQUFFLFFBQVE7Q0FDZixDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFWixNQUFNLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUU1QyxNQUFNLFlBQVksR0FBRyxNQUFNLENBQUM7SUFDMUIsR0FBRyxFQUFFLE1BQU0sRUFBRTtJQUNiLEdBQUcsRUFBRSxNQUFNLEVBQUU7SUFDYixNQUFNLEVBQUUsTUFBTSxFQUFFO0lBQ2hCLEtBQUssRUFBRSxnQkFBZ0I7Q0FDeEIsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBRVosTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBZXBDLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFycmF5LFxuICBkaXNjcmltaW5hdGVkVW5pb24sXG4gIGxpdGVyYWwsXG4gIG51bWJlcixcbiAgb2JqZWN0LFxuICBvcHRpb25hbCxcbiAgc3RyaW5nLFxuICB1bmlvbixcbiAgeixcbn0gZnJvbSBcInpvZFwiO1xuXG4vLyBQb2xpY2llc1xuY29uc3QgcG9saWN5UmVzdWx0ID0gdW5pb24oW2xpdGVyYWwoXCJwYXNzXCIpLCBsaXRlcmFsKFwid2FyblwiKSwgbGl0ZXJhbChcImZhaWxcIildKTtcblxuY29uc3QgcG9saWN5RGF0YSA9IG9iamVjdCh7XG4gIHBhc3M6IGFycmF5KHN0cmluZygpKSxcbiAgd2FybjogYXJyYXkoc3RyaW5nKCkpLFxuICBmYWlsOiBhcnJheShzdHJpbmcoKSksXG59KTtcblxuY29uc3QgYmFzZSA9IG9iamVjdCh7XG4gIHJlc3VsdDogcG9saWN5UmVzdWx0LFxuICByZXN1bHREZXRhaWxzOiBwb2xpY3lEYXRhLFxufSk7XG5cbi8vIE1ldGEgZGF0YVxuXG5jb25zdCB0ZXN0UmVzdWx0TWV0YWRhdGEgPSBiYXNlXG4gIC5leHRlbmQoe1xuICAgIHR5cGU6IGxpdGVyYWwoXCJ0ZXN0LXJlc3VsdFwiKSxcbiAgICBwYXNzOiBudW1iZXIoKS5taW4oMCksXG4gICAgZmFpbDogbnVtYmVyKCkubWluKDApLFxuICAgIHNraXA6IG51bWJlcigpLm1pbigwKSxcbiAgfSlcbiAgLnN0cmljdCgpO1xuXG5jb25zdCBkb2N1bWVudGF0aW9uTWV0YWRhdGEgPSBiYXNlXG4gIC5leHRlbmQoe1xuICAgIHR5cGU6IGxpdGVyYWwoXCJkb2N1bWVudGF0aW9uXCIpLFxuICB9KVxuICAuc3RyaWN0KCk7XG5cbmNvbnN0IGNvZGVRdWFsaXR5TWV0YWRhdGEgPSBiYXNlXG4gIC5leHRlbmQoe1xuICAgIHR5cGU6IGxpdGVyYWwoXCJjb2RlLXF1YWxpdHlcIiksXG4gICAgcXVhbGl0eVJhdGluZzogc3RyaW5nKCksXG4gIH0pXG4gIC5zdHJpY3QoKTtcbmNvbnN0IHRlc3RDb3ZlcmFnZU1ldGFkYXRhID0gYmFzZVxuICAuZXh0ZW5kKHtcbiAgICB0eXBlOiBsaXRlcmFsKFwidGVzdC1jb3ZlcmFnZVwiKSxcbiAgICBkZWx0YTogb3B0aW9uYWwoXG4gICAgICBvYmplY3Qoe1xuICAgICAgICBsaW5lOiBudW1iZXIoKS5taW4oLTEwMCkubWF4KDEwMCksXG4gICAgICAgIHN0YXRlbWVudDogbnVtYmVyKCkubWluKC0xMDApLm1heCgxMDApLFxuICAgICAgICBmdW5jdGlvbjogbnVtYmVyKCkubWluKC0xMDApLm1heCgxMDApLFxuICAgICAgICBicmFuY2g6IG51bWJlcigpLm1pbigtMTAwKS5tYXgoMTAwKSxcbiAgICAgIH0pXG4gICAgICAgIC5zdHJpY3QoKVxuICAgICAgICAubnVsbGFibGUoKVxuICAgICksXG4gICAgbGluZTogbnVtYmVyKCkubWluKDApLm1heCgxMDApLFxuICAgIHN0YXRlbWVudDogbnVtYmVyKCkubWluKDApLm1heCgxMDApLFxuICAgIGZ1bmN0aW9uOiBudW1iZXIoKS5taW4oMCkubWF4KDEwMCksXG4gICAgYnJhbmNoOiBudW1iZXIoKS5taW4oMCkubWF4KDEwMCksXG4gIH0pXG4gIC5zdHJpY3QoKTtcblxuY29uc3QgbWV0YWRhdGEgPSBkaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcbiAgY29kZVF1YWxpdHlNZXRhZGF0YSxcbiAgZG9jdW1lbnRhdGlvbk1ldGFkYXRhLFxuICB0ZXN0Q292ZXJhZ2VNZXRhZGF0YSxcbiAgdGVzdFJlc3VsdE1ldGFkYXRhLFxuXSk7XG5cbi8vIGlucHV0IG9iamVjdFxuXG5jb25zdCBkYXRhRWxlbWVudCA9IG9iamVjdCh7XG4gIG5hbWU6IHN0cmluZygpLFxuICB1cmw6IHN0cmluZygpLnVybCgpLFxuICBkYXRhOiBtZXRhZGF0YSxcbn0pLnN0cmljdCgpO1xuXG5jb25zdCBkYXRhRWxlbWVudEFycmF5ID0gYXJyYXkoZGF0YUVsZW1lbnQpO1xuXG5jb25zdCBoaXN0b3J5RW50cnkgPSBvYmplY3Qoe1xuICBzaGE6IHN0cmluZygpLFxuICB1cmw6IHN0cmluZygpLFxuICBhY3Rpb246IHN0cmluZygpLFxuICBpdGVtczogZGF0YUVsZW1lbnRBcnJheSxcbn0pLnN0cmljdCgpO1xuXG5jb25zdCBoaXN0b3J5ID0gYXJyYXkoaGlzdG9yeUVudHJ5KTtcblxudHlwZSBEYXRhRWxlbWVudCA9IHouaW5mZXI8dHlwZW9mIGRhdGFFbGVtZW50PjtcbmRlY2xhcmUgbGV0IHg6IERhdGFFbGVtZW50O1xudHlwZSBNZXRhZGF0YUVudW0gPSB0eXBlb2YgeC5kYXRhLnR5cGU7XG50eXBlIERhdGFFbGVtZW50QXJyYXkgPSB6LmluZmVyPHR5cGVvZiBkYXRhRWxlbWVudEFycmF5PjtcbnR5cGUgSGlzdG9yeUVudHJ5ID0gei5pbmZlcjx0eXBlb2YgaGlzdG9yeUVudHJ5PjtcbnR5cGUgSGlzdG9yeSA9IHouaW5mZXI8dHlwZW9mIGhpc3Rvcnk+O1xudHlwZSBQb2xpY3lSZXN1bHQgPSB6LmluZmVyPHR5cGVvZiBwb2xpY3lSZXN1bHQ+O1xudHlwZSBQb2xpY3lEYXRhID0gei5pbmZlcjx0eXBlb2YgcG9saWN5RGF0YT47XG50eXBlIEFjdGlvbklucHV0ID0ge1xuICBjdXJyZW50OiBIaXN0b3J5RW50cnk7XG4gIGhpc3Rvcnk6IEhpc3Rvcnk7XG59O1xuXG5leHBvcnQgeyBtZXRhZGF0YSwgZGF0YUVsZW1lbnQsIGRhdGFFbGVtZW50QXJyYXksIGhpc3RvcnlFbnRyeSwgaGlzdG9yeSB9O1xuXG5leHBvcnQgdHlwZSB7XG4gIEFjdGlvbklucHV0LFxuICBQb2xpY3lEYXRhLFxuICBNZXRhZGF0YUVudW0sXG4gIERhdGFFbGVtZW50LFxuICBEYXRhRWxlbWVudEFycmF5LFxuICBIaXN0b3J5RW50cnksXG4gIFBvbGljeVJlc3VsdCxcbiAgSGlzdG9yeSxcbn07XG4iXX0=