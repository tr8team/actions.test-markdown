import { None, Some } from "../core/option.js";
import { emoji, resultToMarkdown } from "../util.js";
class DocumentationConverter {
    convertHeader(header) {
        return this.convertTable(header).andThen((badge) => {
            if (header.data.type === "documentation") {
                const f = emoji(header.data.result);
                const h = `## ${f}  ${header.name}\n`;
                const policy = resultToMarkdown(header.data.resultDetails);
                return Some(`
${h}
Report: ${badge}
${policy}
`);
            }
            return None();
        });
    }
    convertTable(table) {
        if (table.data.type === "documentation") {
            return Some(`[${table.name}](${table.url})`);
        }
        return None();
    }
    convertBadge(badge) {
        if (badge.data.type === "documentation") {
            const n = encodeURIComponent(badge.name);
            return Some(`[![badge](https://img.shields.io/badge/${n}-blue?style=for-the-badge)](${badge.url})`);
        }
        return None();
    }
}
export { DocumentationConverter };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9jdW1lbnRhdGlvbi1jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL2NvbnZlcnRlci9kb2N1bWVudGF0aW9uLWNvbnZlcnRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsSUFBSSxFQUFVLElBQUksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFHckQsTUFBTSxzQkFBc0I7SUFDMUIsYUFBYSxDQUFDLE1BQW1CO1FBQy9CLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNqRCxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLGVBQWUsRUFBRTtnQkFDeEMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQztnQkFDdEMsTUFBTSxNQUFNLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDM0QsT0FBTyxJQUFJLENBQUM7RUFDbEIsQ0FBQztVQUNPLEtBQUs7RUFDYixNQUFNO0NBQ1AsQ0FBQyxDQUFDO2FBQ0k7WUFDRCxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ2hCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFrQjtRQUM3QixJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLGVBQWUsRUFBRTtZQUN2QyxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7U0FDOUM7UUFDRCxPQUFPLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxZQUFZLENBQUMsS0FBa0I7UUFDN0IsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxlQUFlLEVBQUU7WUFDdkMsTUFBTSxDQUFDLEdBQUcsa0JBQWtCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3pDLE9BQU8sSUFBSSxDQUNULDBDQUEwQyxDQUFDLCtCQUErQixLQUFLLENBQUMsR0FBRyxHQUFHLENBQ3ZGLENBQUM7U0FDSDtRQUNELE9BQU8sSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztDQUNGO0FBRUQsT0FBTyxFQUFFLHNCQUFzQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhRWxlbWVudCB9IGZyb20gXCIuLi9pbnB1dC5qc1wiO1xuaW1wb3J0IHsgTm9uZSwgT3B0aW9uLCBTb21lIH0gZnJvbSBcIi4uL2NvcmUvb3B0aW9uLmpzXCI7XG5pbXBvcnQgeyBlbW9qaSwgcmVzdWx0VG9NYXJrZG93biB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBDb252ZXJ0ZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlL2NvbnZlcnRlci5qc1wiO1xuXG5jbGFzcyBEb2N1bWVudGF0aW9uQ29udmVydGVyIGltcGxlbWVudHMgQ29udmVydGVyIHtcbiAgY29udmVydEhlYWRlcihoZWFkZXI6IERhdGFFbGVtZW50KTogT3B0aW9uPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmNvbnZlcnRUYWJsZShoZWFkZXIpLmFuZFRoZW4oKGJhZGdlKSA9PiB7XG4gICAgICBpZiAoaGVhZGVyLmRhdGEudHlwZSA9PT0gXCJkb2N1bWVudGF0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgZiA9IGVtb2ppKGhlYWRlci5kYXRhLnJlc3VsdCk7XG4gICAgICAgIGNvbnN0IGggPSBgIyMgJHtmfSAgJHtoZWFkZXIubmFtZX1cXG5gO1xuICAgICAgICBjb25zdCBwb2xpY3kgPSByZXN1bHRUb01hcmtkb3duKGhlYWRlci5kYXRhLnJlc3VsdERldGFpbHMpO1xuICAgICAgICByZXR1cm4gU29tZShgXG4ke2h9XG5SZXBvcnQ6ICR7YmFkZ2V9XG4ke3BvbGljeX1cbmApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE5vbmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnZlcnRUYWJsZSh0YWJsZTogRGF0YUVsZW1lbnQpOiBPcHRpb248c3RyaW5nPiB7XG4gICAgaWYgKHRhYmxlLmRhdGEudHlwZSA9PT0gXCJkb2N1bWVudGF0aW9uXCIpIHtcbiAgICAgIHJldHVybiBTb21lKGBbJHt0YWJsZS5uYW1lfV0oJHt0YWJsZS51cmx9KWApO1xuICAgIH1cbiAgICByZXR1cm4gTm9uZSgpO1xuICB9XG5cbiAgY29udmVydEJhZGdlKGJhZGdlOiBEYXRhRWxlbWVudCk6IE9wdGlvbjxzdHJpbmc+IHtcbiAgICBpZiAoYmFkZ2UuZGF0YS50eXBlID09PSBcImRvY3VtZW50YXRpb25cIikge1xuICAgICAgY29uc3QgbiA9IGVuY29kZVVSSUNvbXBvbmVudChiYWRnZS5uYW1lKTtcbiAgICAgIHJldHVybiBTb21lKFxuICAgICAgICBgWyFbYmFkZ2VdKGh0dHBzOi8vaW1nLnNoaWVsZHMuaW8vYmFkZ2UvJHtufS1ibHVlP3N0eWxlPWZvci10aGUtYmFkZ2UpXSgke2JhZGdlLnVybH0pYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBOb25lKCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRG9jdW1lbnRhdGlvbkNvbnZlcnRlciB9O1xuIl19