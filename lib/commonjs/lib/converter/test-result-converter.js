import { None, Some } from "../core/option";
import { emoji, resultToColor, resultToMarkdown } from "../util";
class TestResultConverter {
    convertHeader(header) {
        if (header.data.type === "test-result") {
            const f = emoji(header.data.result);
            const h = `## ${f}  ${header.name}\n`;
            const result = `
| Tests | Amount |
| ---- | -------- |
| Pass | ${header.data.pass} |
| Fail | ${header.data.fail} |
| Skip | ${header.data.skip} |
`;
            const policy = resultToMarkdown(header.data.resultDetails);
            return Some(`
${h}
Report: [Test Results](${header.url})
${result}
${policy}
`);
        }
        return None();
    }
    convertTable(table) {
        if (table.data.type === "test-result") {
            const color = resultToColor(table.data.result);
            const d = table.data;
            // ✔ HELLO | ✘ HELLO | ➟ HELLO
            return Some(`[![badge](https://img.shields.io/badge/test` +
                `-%E2%9C%94%20${d.pass}%20%7C%20%E2%9C%98%20${d.fail}%20%7C%20%E2%9E%9F%20${d.skip}` +
                `-${color})](${table.url})`);
        }
        return None();
    }
}
export { TestResultConverter };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC1yZXN1bHQtY29udmVydGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9jb252ZXJ0ZXIvdGVzdC1yZXN1bHQtY29udmVydGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxJQUFJLEVBQVUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEQsT0FBTyxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFakUsTUFBTSxtQkFBbUI7SUFDdkIsYUFBYSxDQUFDLE1BQW1CO1FBQy9CLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssYUFBYSxFQUFFO1lBQ3RDLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQztZQUN0QyxNQUFNLE1BQU0sR0FBRzs7O1dBR1YsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJO1dBQ2hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSTtXQUNoQixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUk7Q0FDMUIsQ0FBQztZQUNJLE1BQU0sTUFBTSxHQUFHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDM0QsT0FBTyxJQUFJLENBQUM7RUFDaEIsQ0FBQzt5QkFDc0IsTUFBTSxDQUFDLEdBQUc7RUFDakMsTUFBTTtFQUNOLE1BQU07Q0FDUCxDQUFDLENBQUM7U0FDRTtRQUNELE9BQU8sSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFrQjtRQUM3QixJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLGFBQWEsRUFBRTtZQUNyQyxNQUFNLEtBQUssR0FBRyxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ3JCLDhCQUE4QjtZQUM5QixPQUFPLElBQUksQ0FDVCw2Q0FBNkM7Z0JBQzNDLGdCQUFnQixDQUFDLENBQUMsSUFBSSx3QkFBd0IsQ0FBQyxDQUFDLElBQUksd0JBQXdCLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQ3BGLElBQUksS0FBSyxNQUFNLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FDOUIsQ0FBQztTQUNIO1FBQ0QsT0FBTyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0NBQ0Y7QUFFRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnZlcnRlciB9IGZyb20gXCIuLi9pbnRlcmZhY2UvY29udmVydGVyXCI7XG5pbXBvcnQgeyBEYXRhRWxlbWVudCB9IGZyb20gXCIuLi9pbnB1dFwiO1xuaW1wb3J0IHsgTm9uZSwgT3B0aW9uLCBTb21lIH0gZnJvbSBcIi4uL2NvcmUvb3B0aW9uXCI7XG5pbXBvcnQgeyBlbW9qaSwgcmVzdWx0VG9Db2xvciwgcmVzdWx0VG9NYXJrZG93biB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmNsYXNzIFRlc3RSZXN1bHRDb252ZXJ0ZXIgaW1wbGVtZW50cyBDb252ZXJ0ZXIge1xuICBjb252ZXJ0SGVhZGVyKGhlYWRlcjogRGF0YUVsZW1lbnQpOiBPcHRpb248c3RyaW5nPiB7XG4gICAgaWYgKGhlYWRlci5kYXRhLnR5cGUgPT09IFwidGVzdC1yZXN1bHRcIikge1xuICAgICAgY29uc3QgZiA9IGVtb2ppKGhlYWRlci5kYXRhLnJlc3VsdCk7XG4gICAgICBjb25zdCBoID0gYCMjICR7Zn0gICR7aGVhZGVyLm5hbWV9XFxuYDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGBcbnwgVGVzdHMgfCBBbW91bnQgfFxufCAtLS0tIHwgLS0tLS0tLS0gfFxufCBQYXNzIHwgJHtoZWFkZXIuZGF0YS5wYXNzfSB8XG58IEZhaWwgfCAke2hlYWRlci5kYXRhLmZhaWx9IHxcbnwgU2tpcCB8ICR7aGVhZGVyLmRhdGEuc2tpcH0gfFxuYDtcbiAgICAgIGNvbnN0IHBvbGljeSA9IHJlc3VsdFRvTWFya2Rvd24oaGVhZGVyLmRhdGEucmVzdWx0RGV0YWlscyk7XG4gICAgICByZXR1cm4gU29tZShgXG4ke2h9XG5SZXBvcnQ6IFtUZXN0IFJlc3VsdHNdKCR7aGVhZGVyLnVybH0pXG4ke3Jlc3VsdH1cbiR7cG9saWN5fVxuYCk7XG4gICAgfVxuICAgIHJldHVybiBOb25lKCk7XG4gIH1cblxuICBjb252ZXJ0VGFibGUodGFibGU6IERhdGFFbGVtZW50KTogT3B0aW9uPHN0cmluZz4ge1xuICAgIGlmICh0YWJsZS5kYXRhLnR5cGUgPT09IFwidGVzdC1yZXN1bHRcIikge1xuICAgICAgY29uc3QgY29sb3IgPSByZXN1bHRUb0NvbG9yKHRhYmxlLmRhdGEucmVzdWx0KTtcbiAgICAgIGNvbnN0IGQgPSB0YWJsZS5kYXRhO1xuICAgICAgLy8g4pyUIEhFTExPIHwg4pyYIEhFTExPIHwg4p6fIEhFTExPXG4gICAgICByZXR1cm4gU29tZShcbiAgICAgICAgYFshW2JhZGdlXShodHRwczovL2ltZy5zaGllbGRzLmlvL2JhZGdlL3Rlc3RgICtcbiAgICAgICAgICBgLSVFMiU5QyU5NCUyMCR7ZC5wYXNzfSUyMCU3QyUyMCVFMiU5QyU5OCUyMCR7ZC5mYWlsfSUyMCU3QyUyMCVFMiU5RSU5RiUyMCR7ZC5za2lwfWAgK1xuICAgICAgICAgIGAtJHtjb2xvcn0pXSgke3RhYmxlLnVybH0pYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIE5vbmUoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBUZXN0UmVzdWx0Q29udmVydGVyIH07XG4iXX0=